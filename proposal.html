<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Special Moment ðŸ’–</title>

<style>
body{
  margin:0;
  height:100vh;
  font-family:'Segoe UI',sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;

  background: linear-gradient(-45deg,#ffdde1,#fbc2eb,#cfd9df,#ffecd2);
  background-size: 400% 400%;
  animation: bgFlow 18s ease infinite;
}

@keyframes bgFlow{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.card{
  background:rgba(255,255,255,0.97);
  padding:44px 38px;
  border-radius:34px;
  width:380px;
  text-align:center;
  box-shadow:0 30px 60px rgba(0,0,0,0.15);
  animation: cardIn 1.4s ease;
}

@keyframes cardIn{
  from{opacity:0;transform:translateY(30px)}
  to{opacity:1;transform:translateY(0)}
}

.name{
  font-size:22px;
  font-weight:600;
  margin-bottom:8px;
}

.line{
  width:60px;
  height:3px;
  background:#ff5b8a;
  margin:0 auto 18px;
  border-radius:3px;
}

.category{
  font-size:26px;
  font-weight:700;
  margin-bottom:22px;
}

.message{
  font-size:16px;
  line-height:1.7;
  color:#555;
  white-space:pre-wrap;
}

.from{
  margin-top:30px;
  font-size:16px;
  font-weight:600;
  color:#ff5b8a;
}

.heart{
  position:absolute;
  font-size:18px;
  animation: floatUp 8s linear infinite;
  opacity:0.6;
}

@keyframes floatUp{
  from{transform:translateY(100vh);opacity:0}
  20%{opacity:0.6}
  to{transform:translateY(-10vh);opacity:0}
}
</style>
</head>

<body>

<div class="card">
  <div class="name" id="partnerName"></div>
  <div class="line"></div>
  <div class="category" id="categoryTitle"></div>
  <div class="message" id="messageText"></div>
  <div class="from" id="fromName"></div>
</div>

<script>
const p = new URLSearchParams(location.search);
const type = p.get("type");
const you = p.get("you");
const partner = p.get("partner");
const msg = p.get("msg");

if(!type || !you || !partner || !msg){
  document.body.innerHTML = "<h2>Invalid link ðŸ’”</h2>";
  throw new Error("Missing parameters");
}

function cap(t){ return t.charAt(0).toUpperCase() + t.slice(1); }

const titles = {
  valentine:  "ðŸ’“ Valentine",
  marriage:   "ðŸ’ Marriage Proposal",
  love:       "â¤ï¸ Love",
  confession: "ðŸ’Œ Confession",
  anniversary:"ðŸ’• Anniversary",
  birthday:   "ðŸŽ‚ Happy Birthday"
};

document.getElementById("partnerName").innerText = cap(partner);
document.getElementById("categoryTitle").innerText = titles[type] || "ðŸ’– Special";
document.getElementById("messageText").innerText = msg;
document.getElementById("fromName").innerText = "â€” " + cap(you);

/* Floating hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText = Math.random() > 0.5 ? "ðŸ’–" : "ðŸ’—";
  h.style.left = Math.random()*100 + "vw";
  h.style.animationDuration = (6 + Math.random()*4) + "s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),9000);
},900);
</script>

</body>
</html>
